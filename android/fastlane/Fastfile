# This file contains the fastlane.tools configuration
# You can find the documentation at https://docs.fastlane.tools
#
# For a list of all available actions, check out
#
#     https://docs.fastlane.tools/actions
#
# For a list of all available plugins, check out
#
#     https://docs.fastlane.tools/plugins/available-plugins
#

# Uncomment the line if you want fastlane to automatically update itself
# update_fastlane

default_platform(:android)

platform :android do
  desc "Runs all the tests"
  lane :test do
    gradle(task: "test")
  end

  desc "Submit a new Beta Build to Crashlytics Beta"
  lane :beta do
    gradle(task: "clean assembleRelease")
    crashlytics
  
    # sh "your_script.sh"
    # You can also use other beta testing services here
  end

  desc "Deploy a new version to the Google Play"
  lane :deploy do
    gradle(task: "clean assembleRelease")
    upload_to_play_store
  end

  desc "My awesome app"
  lane :distribute do
    gradle(
      task: 'assemble',
      build_type: 'Release'
    )
    firebase_app_distribution(
      app: "1:35020235923:android:e734d252de488eee07d966",
      groups: "test",
      release_notes: "Test Distribution(Android)",
      # service_credentials_file: "/Users/sugurutakahashi/firebase-key/pre-order-app-2021-firebase-app-distribution.json", # local
      service_credentials_file: Encrypted(Z0FBQUFBQmdtTnZ0RHFfTlhpbFB2d2xSWmRSMjYtbEZNSVlVeHViRDJ1UkxMNjhxOU1RbHB5ektmRWt2Yjh0TGZrMVF3blF1Y3NQdE8yS1MyWmtjQ2RBbFNzU19aVzU0d1daY0c5b1NuN1ZXSFZ4Zm5mTEk5UWVaTXcyNWVXNWQzV0gtMlhCVzZWY2VfV0FKblpGU1VSbG52enYzUG9DdnZLaDBnbUJqVm53SkhIQmtSRkY5VF9HSUI1QTNLWkx6S0liQzVONFllZ2h3YnpvcElLSkhvUnpoOVJJRHpmY2NJN2R3b0k3cjliWW9yVFlsRFJ1RExmc2ZVSnNtc08zRFNfSmZUcEFlU2FBRHFIV3p2cU5PalJXNnNidk51ZW5ucHlud0VYV05vS25BanpBQlNvMnFUdGp0X0VOOTA5bE9ianNXdUZQTFJSN2ptMW1uQVFzM2xiNDdJTjZCTVZpeDYwNUk2V3loSTBKR082M2VHYUhkOURpVzk4U1ZyRE1oemJzOVcxcTBOTFFvM0JZbUdtTlJyZDladEpHLUhnZ1ZJMDlpRnpzVldFMm5ab2RsbVAtbDlHUGtVSzJtQ0c4SFdnTWRWTkJDWEJrSnZPcDA2bjJTVnpsRDh6XzRyWHJwX3lFYl82UldIODNXRjFONGdMQTZFc0MtMml4eVBDNlhOYnhnSkZiZEhBeF9KdlRsalpTVGphVUdHWlcwV3lpUFM4MEw2VW50NU1MRWxNU3hnMWVuTjI2NEZmMm1kMkVHWndmZ2JsQWhzRndBLUx2VXFWdUpiMjZsbkRweGVJbVFqLWRaa1MxNnR6YnBkeW13b1lDNkpqZVZZcGw0Tld2YU5Od0NjTW1fRFRDMEo1Q2xmQ3RBX3h2SkxweUZtR1pnSXY5QTd2UjFZa1hTOGg2WVVxN1hHcElHcnlqamtpVE9CcllFMm14a2RDLVhUb1ZOb3NLZ2xacHBMLW5DMDFSaXNwTC1JZEV1NXVwM3NPNjRIVy1VNGtMSEtxNGFTU3hyOWhPRHFQX0UzQUYtdnozVGdYS0EwS084alVkY1gwVTB1dVRzUEpmVC01ZFllcVc0a202RmFtalBLT2U3ZUZKTnZjem9oM3NySmFPdmk3MUVGOWJac0Nwb2tyTElqUU5KTlpSVmZOWWxWTWFXRTlldzQtU0hZXy1nVHpnZVAxQkFBM1JLckNvNUJ6dmJ3OF9Ka3JYWTU5MkxaNlB0bGtrVnRhbWdGMkNKTDl3LTNyR1dtOXFHSHEtRjJPeFNWZFh2U3g3b01faU9JcWdyTU1JaUljc0hnX0pjUGNibTdrd2pCV1gwZHp3Wi0tcWhTSUJMRWxtbWt2ZlktV01rV1M0RVFkUENSZ3dMMUtKSUpja25wSC1FODUxV1V5QlVtRmxseDJ1a3RUTjRVYXFnUzdtcnVIR2NPRFRzdFNLZ1hfazZ1TlBhaDNfN3JiS1A2Z096ZGVMY3hacDBIeE5DZUNSZXdEVkNVdVE1c1VsVFlUQjF5RlF1cjd0cXIySzdLRXo5SjVIU2k2MVZUMGEtZmRmQUlTcmltMmN6eFBpdXYtUXNYMWtaVld5Tm1IcE1HQnU1LUp1Wmgzb2lkNjRvYjRsZGxGSWhPTTF5dUZ6bzhyYy1CLUp4S1E2blhHQlZPOTNFNGU3bV81U3dUZ28zdzIwdG9wQXQtQnZ0bFY3YWFOVDVPQUVNbHFrMndvdXhvVl9qMVI4V0owN044ZmNob3RNS1Z6TEZsUmk5VG9MemZPbWhzWXlFOE80RnM5ekw2VWNjQUJ1SnhhZy16ZWc1Snh6bldrZDZpY0hMSHpySXdxanU1Q083cEg5ZzVCYk5iUlBCaHdZaFJlLTZJWm9ucVpkUHBWaHpxYTFwVG91MHFDSThwdEN2RkdrTEpRWWxzTWgybzdTbmFYSlFTQkJyR3FRa1BTZ0JKcHNvRkhTbEhudWI0ekhfQTFxZXhaOTRGeWZOR2VUSnJpcVlRV1FNSkVMc25RQTJ4UDJRcnZ5R1JhaVVpTHFYbnU1ZG95VVRHU3BScVJJVEZTX25BRXVQaThRLXZIeC05aGF6cDVNUDh1d3prQlRWdjR5dVJKaGVtUWJoY1UtaldpMUR0dEVIYW1vUHE5a3dDUUpXWUhlU25GQU51UURKNW9wTXI0SHBJMGdvOE1EeUpiZ3gyLU1PZnhNT2hvZTktUVV5OHlNbXlWSEdiTUxkalg4dFdORmtxTThfU1NRMzBRNE10dzRjQVdUQ1RNUXBMR2Vtc25NUVdyU1dWaHNqTTdlR2MyLTNOQUFqTm8xQ2dQWFE0bU1NbmpwYXpWR0VlN1RWSm9pVDFqVGdtSC14Sl9mZTJ6cDlCaTcyWTRkNktyOF83c0JYT3FCM3lla0IxVzJNZjFEd2VLWEpRRWJlREFwMFktRElpV3lrU0JVV2hpV01MemxEa2l0a2g0NGsxY19YWDBHQmRnUnd4amM1em1NYjNhc0xoNzgzU0JyNHV3SE04VU9PS29WczNlSmpwdVh2RG5GcTA2RWFKb3Nva1VIZmVCaVJDVGRMa1NlVkIxYV9fMU9vUEFMeWlwMVlyRGFWWDdqN3RCUU10ZlNxX29qYWlxZkduTmVUYkEzdEhJRi1FX2l1X0NHM0laTUZLckFJNUJJcmZTcGtuSzVoX1pvbndZZFUtU01YNXRKU005OG54TFMxaDA5MGdCdGtfd0p3N0dpYjVXX2U3aEFzQkFZMlJRMVBJSXlITjZoNjVsYVVWYWQtWFFnRTV6VFRxSG1FVWVyeUg3RFRaX2duV0ozUFFZRlNkeVU4U0N5Vk8wWEtSUkJxTFZJQk0tZ3pwanRtNjZKdThkOFQ3aXExUUhXcEY4WE94UjhXMjc1LWZ1VmZfMmRWdlJ1TWs1Yl94di01T0hhOHF6bFotSWFkVEpRZ29QV2U3STVTdHEwNkU2dm1oVUpqb01xQnNoa0ZraWQ0R0UweTFqQVZqOUkyQzRUak5NR3I5QVA0WG5kTGVLMVJsMW1nVlJ1eDdDNUh5RzRvVDloajVxRUtDbF9zQlR0VG5MTGhUNWRrNWtNZXJ1SXFUZGJpbWFGclMzb0h1dHNrVXJ1Y2dvRndIN191S3VQMnFoX1BQQUU3bHBTTGQwRkNseDRxVVIzQzQyTWZzS1hCbU1QYU13WUY0Z0JxU0hMYk94WnoyTG9pZ3pRNU0yQ1g4bjdKNnVVSGNsaGdlOXNvVlZGVUZfWWtFWFdTcGFhSHJuc21CaWlOQVNpOU1DVjFZejJ3QVp1aDF6ckJHeTlnaWtpbDBVR3h3dVNzUDc2ams4Z1VtY2YyUWs3QV9BRnhxYmcybHdBU1lkWFFJN2JlNmh2TnlYY3NSOUNYNk9xN25HZEpPbkNFYjByVXgwYzFqczJMeUZFaERLUkxWNkpwMmlqM0tXOXJ3VHI1aVprcVBRS2FCd2RNWWNZdGc4TXdXV3VZQXBucGZWTWlYTHhlYmhIblNOZVc4UDhoRGdUdkd6TXF2Vy0ybGVyX1huUEtBNHJCbUd1Z2NTanc2d2ZGUEZVeGJOTHBrQndlY2RhSFZNYlcxaFhzR3ktOXNDSm14d3pGZUN6Nkt0dmxKX0plSFhVaFRhRF85eldCVXRjYVByZE1vaTdkVjFuWVMwXzNJdHpVSGNfWXBrYTU0aVRJcDlUekczbi1rdEN4NWEyZzZBUjl3NlpoTGdXUTgzYnVmcUg3ZVZhMTNsb202NGpHSXdscHJyUHYwbmpQeF84M0hwSXQ3X1VYU2t1VXFHYk1CR19zMzJHa2prc3M0eEJqa0wyUFl2ZXZGNWo2eGNUS1FKZUpMVDhkMXQyNktRRlNKREdSS1YyaWFPMkZKNDRWVjdSM2VHTWRueVl1TVQ4WmZhSnNLVWxXNGhzcnBYNEozUldCSTBOOEcxZUZhY0d3T1psNkZGVktUc1kyQmpoZ3ZXZVVxV0V6TTM4M1BMdW1NTVM5ZzhmbVpEb2dya3JQaWd4bDRja3VMUXhrS1NGamtYZnZKQUJBM2tDS3pEQl82YmttT2tQZWlvVElBRWZIZEJtenlaNVNtUFBqSHVHUmVUV0xrd21TWGVjR3lZQmlISXJPcW5GclFiNnVPVTNxQTZSV2o5ekFiY3Njc2h3YjlfVnphb3lWR0RRRkRmdW1MYTM3QVcyQ3RrbXFfbm5JTmktTFYwQ3czMFNMUVJ4MkpLNVJBbTBfYTk2aU41NVNjcE5NajBMTF9FbVRKd3A4c2dfT3BqOHhUWWFLWnVPbWZEdDA1STRrdUk1UEQ5OVdaZWJYSHI5OWZodkdYYXVWNGVPa2JaZ2F4MG1TVzJJS1ZYVWtmTnlkWkN3ZFFzZG53YlNqVDJiM1d4UnZpYkttc25sZjVhR1dQenBfQ2ZPNWROVWgwZjJLM1NCMllOWFE3UDJhaWxiU3NuNHlWN05tNTlNZjB4clV0enBWRkNDbjlTaGFnbHI5aVhFQlBQZGZZeFZFSG9DRnpjaG90T3RBR1dfaXJHT0tyMXBaUWdvNUZpMlNSZ0hHWkNVUzA0OFE3Y19jQTJFNTVuMlRVR2NOSVpUS3RKR0xZeC1kRjNuM3lNX3F6XzZYV0tSTXE5X3U0bWx3NGVJNHZMRThjY2RVeTROSUNwOXN0YWEtNHRBNkYxVnhSWWU4Qy1UUDZObDVHV0RyYUczcm9ueHdwa1FRdnhmRzg1WnRNMVZ0YXZVaXF0ZWZsVUppN1JIR19HRkVHNV9ZNDV5QzdJVjVWV3Bja3dDZlFzUHFMV3Ytbm13dlAwVHpfUXlEeDJWRzY4eHhOZmhrNVlfTzZYeUh5emdUYkxHTXhfN2h4X3BDbDBlT1VhYjI2ckk3bGdKaUY0M1Vldm5uWkN3YVZNeThmVWZsWXdLZ3B5elA2anlkMXZvYkdvcUduT0FBTGZZNndtcDByYjlIUk5YYklZb3NETzRJSjJ3YUpwc2VqcnBQZmtHS1d5RTNoUlZQdUhfZFVQUlhYQnc1bmQzcDlsaE5odHRCWUN3V1NtZXp4eFZTZVczU09Cbl84bjJLRnJ5U2FaUmRycFVESF9nRmNPVklhaWpOLWtwdUFtU3dlUUszOVhWMWVFOVl1TXBtQVRFTTNDRU1nejlJR00zd2NEQVVNNUEtZTJiTVk3VTZSS2JaUG96QVZDaHhrMG1vNWExcGxZLVc4Y2liWDhEOHp6TW9zbkhydkZVVjVnTkdlZU9qbWpQSzRQQ3FrbEJZT2NvQ2t0SFZ1Q2hlTGdNOHJQdHVaYThpb2pURmJZUDFxZVN4THlCeERXWWU0QXRqeEFRVkZ6aEd1eHNtMUpUZGhDbllrNDBLaXFEb3RRalRFOE5wUmtSSjA4cHdzUVZqS2ltX3QzREU5bTdnRlN1QS11QW9Dck1uRlUwUVRzMTRmSFloelBWVWc2NTkwZ1dZNjZKN3hLUTVRc3djbTRETWxvRVFSOFhXamNzY1RTSDFWeUZjUS0tUzZKYXc0dG1jRGo4YWppalNpblNoWXhQNGlJQzV3ZkszWFNIY3NyOVQ3eXFtTmV5VnpqT0hENnBDRUd2cktKV2tOTndjVHE5LUozTFVjMlpLbkM1cVpyOHpOekMwanV4ajRYOHFCcXl4MG03bU0zZmJmT2dDSkRJT3M4ZUxNNjZlSHRXR1RhcmlNUHVqd1o5YVFGVXdjbFNVQ2pNNVJXST0=), # Codemagic
      apk_path: "../build/app/outputs/apk/release/app-release.apk"
    )
  end
end
